{"version":3,"sources":["./src/app/room/room.service.ts"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0C;AAGH;;;AAMhC,MAAM,WAAW;IACtB,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAEpC,SAAI,GAAG,IAAI,oDAAe,CAAO,IAAI,CAAC,CAAC;QACvC,WAAM,GAAG,IAAI,oDAAe,CAAS,IAAI,CAAC,CAAC;IAHJ,CAAC;IAKxC,QAAQ,CAAC,IAAY,EAAE,UAAkB;QACvC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAO,GAAG,mDAAQ,WAAW,EAAE;YAClD,IAAI;YACJ,UAAU;SACX,CAAC,CAAC;IACL,CAAC;IAED,UAAU,CACR,WAAmB,EACnB,OAAe,EACf,KAAa,EACb,OAAe;QAEf,OAAO,CAAC,GAAG,CAAC,mDAAQ,CAAC,CAAC;QACtB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,GAAG,mDAAQ,aAAa,EACxB;YACE,WAAW;YACX,OAAO;YACP,KAAK;YACL,OAAO;SACR,CACF,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,IAAY,EAAE,UAAkB;QACvC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,GAAG,mDAAQ,WAAW,EACtB;YACE,IAAI;YACJ,UAAU;SACX,CACF,CAAC;IACJ,CAAC;IAED,SAAS,CAAC,IAAY;QACpB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,mDAAQ,cAAc,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;IAC7D,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,mDAAQ,MAAM,CAAC,CAAC;IAC1C,CAAC;IAED,GAAG,CAAC,IAAY,EAAE,MAA+C;QAC/D,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAO,GAAG,mDAAQ,QAAQ,IAAI,EAAE,EAAE;YACpD,MAAM;SACP,CAAC,CAAC;IACL,CAAC;;sEArDU,WAAW;8FAAX,WAAW,WAAX,WAAW,mBAFV,MAAM","file":"common.js","sourcesContent":["import { Player } from './../shared/models/player.model';\r\nimport { BASE_URL } from './../constants';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Room } from '../shared/models/room.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class RoomService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  room = new BehaviorSubject<Room>(null);\r\n  player = new BehaviorSubject<Player>(null);\r\n\r\n  waitRoom(code: string, playerName: string) {\r\n    return this.http.post<Room>(`${BASE_URL}room/wait`, {\r\n      code,\r\n      playerName,\r\n    });\r\n  }\r\n\r\n  createRoom(\r\n    creatorName: string,\r\n    players: number,\r\n    mafia: number,\r\n    polices: number,\r\n  ) {\r\n    console.log(BASE_URL);\r\n    return this.http.post<{ room: Room; player: Player }>(\r\n      `${BASE_URL}room/create`,\r\n      {\r\n        creatorName,\r\n        players,\r\n        mafia,\r\n        polices,\r\n      },\r\n    );\r\n  }\r\n\r\n  joinRoom(code: string, playerName: string) {\r\n    return this.http.post<{ room: Room; player: Player }>(\r\n      `${BASE_URL}room/join`,\r\n      {\r\n        code,\r\n        playerName,\r\n      },\r\n    );\r\n  }\r\n\r\n  startRoom(code: string) {\r\n    return this.http.post(`${BASE_URL}game/start/${code}`, {});\r\n  }\r\n\r\n  getAll() {\r\n    return this.http.get(`${BASE_URL}room`);\r\n  }\r\n\r\n  get(code: string, params?: { [param: string]: string | string[] }) {\r\n    return this.http.get<Room>(`${BASE_URL}room/${code}`, {\r\n      params,\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}